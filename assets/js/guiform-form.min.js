/*!
 * GuiForm Plugin
 * https://www.guiform.com
 *
 * Author: Russell Pabon
 * http://russellpabon.com
 *
 */
!function(t){t.getDoc=function(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(a){}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(a){e=t.document}return e},t.submitEnable=function(e){t(".f_submit",e).each(function(){var e=t(this).attr("data-submittext");t(this).find(".btn-primary .fa").removeClass("icon-spin fa-refresh").addClass("fa-check"),t(this).find(".btn-primary .btn-text").html(e)})},t.submitDisable=function(e){t(".f_submit",e).each(function(){var e=t(this).attr("data-loadertext");t(this).find(".btn-primary .fa").removeClass("fa-check").addClass("icon-spin fa-refresh"),t(this).find(".btn-primary .btn-text").html(e)})},t.fn.guiform=function(e){return this.each(function(){$this=t(this),e.err={},e.err.parent="^(.*)form-wrap$",$this.bootstrapValidator(e),$this.on("keydown",".ui-spinner-input",function(t){var e=t.charCode||t.keyCode||0;return 1==t.shiftKey?!1:8==e||9==e||46==e||e>=35&&40>=e||e>=48&&57>=e||e>=96&&105>=e}).on("cut copy paste",".ui-spinner-input",function(t){t.preventDefault()}),$this.on("change",".btn-file :file",function(){var e=t(this),a=e.get(0).files?e.get(0).files.length:1,n=e.val();e.trigger("fileselect",[a,n])}),$this.on("fileselect",".btn-file :file",function(e,a,n){var i=t(this).parents(".input-group").find(":text"),o=a>1?a+" files selected":n;i.length&&i.val(o)}),$this.on("click",".f_submit button[type=reset]",function(){$this.bootstrapValidator("resetForm",!0).bootstrapValidator("disableSubmitButtons",!1),$this.find(".form-control-feedback, .error-message").hide(),t.submitEnable($this)}),t.mask.definitions["#"]="[0-9]",t.mask.definitions["@"]="[a-zA-Z]",t.mask.definitions["*"]="[a-zA-Z0-9]",t.mask.definitions["~"]="[+-]",t(".f_phone input",$this).each(function(){""!=t(this).attr("data-mask")&&t(this).mask(t(this).attr("data-mask"))}),t(".folding .ui-accordion-header-icon",$this).remove(),"undefined"!=typeof jQuery.ui.accordion&&t(".folding",$this).accordion({collapsible:!1,heightStyle:"content"}),t(".f_button .button",$this).each(function(){t(this).buttonset()}),t(".button",$this).size()>0&&t(".button",$this).buttonset(),t(".ui-spinner",$this).each(function(){var e=(t(this).attr("data-default")||"","false"!=t(this).attr("data-min")?t(this).attr("data-minvalue"):null),a="false"!=t(this).attr("data-max")?t(this).attr("data-maxvalue"):null;t(this).spinner({min:e,max:a,numberFormat:"n"}).spinner("value",t(this).attr("data-default"))}).on("input",function(){var e=this.value,a=t(this),n="false"!=a.attr("data-max")?a.spinner("option","max"):null,i="false"!=a.attr("data-min")?a.spinner("option","min"):null;e.match(/^\d+$/)||(e=""),this.value=e>n&&null!=n?n:i>e&&null!=i?i:e}),t(".switch-button",$this).each(function(){t(this).switchButton({width:64,height:28,button_width:32,on_label:t(this).attr("data-onlabel"),off_label:t(this).attr("data-offlabel"),show_labels:"true"==String(t(this).attr("data-showlabel"))?!0:!1})}),$this.on("error.field.bv",function(e,a){t(a.element).closest(".wrap").find(".error-message p").html(a.bv.getMessages(a.element)[0]),t(a.element).closest(".wrap").find("small.help-block").hide(),t(a.element).closest(".wrap").find(".error-message").show(),$this.bootstrapValidator("disableSubmitButtons",!1),t.submitEnable($this)}),$this.on("success.field.bv",function(e,a){t(a.element).closest(".wrap").find(".error-message").hide(),$this.bootstrapValidator("disableSubmitButtons",!1),t.submitEnable($this)}),$this.on("status.field.bv",function(){t.submitDisable($this)}),$this.on("error.validator.bv",function(e,a){t(a.element).closest(".wrap").find(".error-message").hide(),a.element.data("bv.messages").find('.help-block[data-bv-for="data.field"]').hide(),$this.bootstrapValidator("disableSubmitButtons",!1)}),$this.on("error.form.bv",function(e){e.preventDefault();t(e.target).data("bootstrapValidator").getInvalidFields(),t(e.target);if($this.bootstrapValidator("disableSubmitButtons",!1),t.submitEnable($this),t("body#GuiForm").size()){var a=0;t(parent.document.getElementsByTagName("iframe")).each(function(e,n){n.contentWindow===window&&(a=t(n).offset().top)});var n=t(parent.document.getElementById("wpadminbar")).size()?t(parent.document.getElementById("wpadminbar")).height():0,i=t(".has-error").first().parents(".item").offset().top;t(parent.document.getElementsByTagName("html")[0]).animate({scrollTop:a+i-n},"slow",function(){t(".has-error").first().closest(".item").find("input, select, textarea").focus()}),t(parent.document.getElementsByTagName("body")[0]).animate({scrollTop:a+i-n},"slow",function(){t(".has-error").first().closest(".item").find("input, select, textarea").focus()})}else{var n=t(parent.document.getElementById("wpadminbar")).size()?t(parent.document.getElementById("wpadminbar")).height():0,i=t(".has-error",e.target).first().parents(".item").offset().top;t(parent.document.getElementsByTagName("html")[0]).animate({scrollTop:i-n},"slow",function(){t(".has-error",e.target).first().closest(".item").find("input, select, textarea").focus()}),t(parent.document.getElementsByTagName("body")[0]).animate({scrollTop:i-n},"slow",function(){t(".has-error",e.target).first().closest(".item").find("input, select, textarea").focus()})}}),$this.on("success.form.bv",function(a){{var n=t(a.target);n.data("bootstrapValidator")}if($this.bootstrapValidator("disableSubmitButtons",!0),t.submitDisable(n),void 0===window.FormData){var i="unique-"+(new Date).getTime(),o=t('<iframe style="width: 100%; height : 300px;" src="javascript:false;" name="'+i+'" />');o.hide(),n.attr("target",i),n.attr("enctype","multipart/form-data"),n.attr("Content-Type","application/octet-stream"),o.appendTo("body"),o.load(function(e){var a=t.getDoc(o[0]),n=a.body?a.body:a.documentElement,i=n.innerHTML;if($this.bootstrapValidator("disableSubmitButtons",!1),t.submitEnable($this),-1!==i.indexOf("Fatal error"))alert("Fatal error: "+i.split("Fatal error:")[1].split(" in ")[0]);else{var i=t.parseJSON(void 0===t("pre",n).html()?i:t("pre",n).html());if(0==Object.keys(i).length||"default"==i.confirmation.type)t("body").html('<p style="text-align: center;"><span style="font-size: 16pt;"><strong>Thank You!</strong></span></p> <p style="text-align: center;">We will get in touch with you shortly.</p>');else if("redirect"==i.confirmation.type)window.top.location.href=decodeURIComponent(i.confirmation.url);else if("custom"==i.confirmation.type){var s=decodeURIComponent(i.confirmation.custom.replace(/\+/g," "));t("body").html('<div id="GuiForm-response" style="display: table, margin: auto;">'+s.replace(/\\+/g,"")+"</div>"),parent.document.getElementsByTagName("iframe")[0].style.maxWidth=document.getElementById("GuiForm-response")[0].offsetWidth+"px"}if("default"==i.confirmation.type||"custom"==i.confirmation.type)if(t(parent.document.getElementsByTagName("iframe")).each(function(e,a){a.contentWindow===window&&(frame=t(a).offset().top)}),"undefined"!=typeof frame){{t(parent.document.getElementById("wpadminbar")).size()?t(parent.document.getElementById("wpadminbar")).height():0}t(parent.document.getElementsByTagName("html")[0]).animate({scrollTop:frame-60},"slow"),t(parent.document.getElementsByTagName("body")[0]).animate({scrollTop:frame-60},"slow")}else{{t("#wpadminbar").size()?t("#wpadminbar").height():0}t("html").animate({scrollTop:t(e.target).offset().top-60},"slow"),t("body").animate({scrollTop:t(e.target).offset().top-60},"slow")}}})}else a.preventDefault(),t.ajax({url:e.ajax_url+"?id="+e.id,type:"POST",data:new FormData(this),processData:!1,dataType:"json",contentType:!1,success:function(e){if($this.bootstrapValidator("disableSubmitButtons",!1),t.submitEnable($this),"error"==e.status)void 0!==e.message?alert(e.message):method.errorDisplay();else if("default"==e.confirmation.type)"GuiForm"==t("body").attr("id")?t("body").css("padding","30px").html('<p style="text-align: center;"><span style="font-size: 16pt;"><strong>Thank You!</strong></span></p> <p style="text-align: center;">We will get in touch with you shortly.</p>'):t("#canvas",a.target).css({padding:"25px 0px","margin-bottom":"20px"}).html('<p style="text-align: center;"><span style="font-size: 16pt;"><strong>Thank You!</strong></span></p> <p style="text-align: center;">We will get in touch with you shortly.</p>');else if("custom"==e.confirmation.type){var n=decodeURIComponent(e.confirmation.custom.replace(/\+/g," "));"GuiForm"==t("body").attr("id")?(t("body").html('<div id="GuiForm-response" style="display: table, margin: auto;">'+n.replace(/\+/g,"")+"</div>"),t("head link:not(#wp-tinymce-css)").remove(),void 0!==parent.document.getElementsByTagName("iframe")[0]&&(parent.document.getElementsByTagName("iframe")[0].style.maxWidth=document.getElementById("GuiForm-response")[0].offsetWidth+"px")):t("#canvas",a.target).css({padding:"25px 0px","margin-bottom":"20px"}).html(n)}else"redirect"==e.confirmation.type&&(window.top.location.href=decodeURIComponent(e.confirmation.url));if("default"==e.confirmation.type||"custom"==e.confirmation.type)if(t(parent.document.getElementsByTagName("iframe")).each(function(e,a){a.contentWindow===window&&(frame=t(a).offset().top)}),"undefined"!=typeof frame){{t(parent.document.getElementById("wpadminbar")).size()?t(parent.document.getElementById("wpadminbar")).height():0}t(parent.document.getElementsByTagName("html")[0]).animate({scrollTop:frame-60},"slow"),t(parent.document.getElementsByTagName("body")[0]).animate({scrollTop:frame-60},"slow")}else{{t("#wpadminbar").size()?t("#wpadminbar").height():0}t("html").animate({scrollTop:t("#canvas",a.target).offset().top-60},"slow"),t("body").animate({scrollTop:t("#canvas",a.target).offset().top-60},"slow")}}})})}),this}}(jQuery);